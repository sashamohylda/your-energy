{"version":3,"file":"body-parts.js","sources":["../src/js/modal.js"],"sourcesContent":["const backdrop = document.querySelector('.js-modal');\nconst closeBtn = document.querySelector('.js-close-modal');\n\nconst openButtons = document.querySelectorAll('.bp-start');\n\n\n\nif (!backdrop || !closeBtn) {\n  console.error('Modal elements not found: .js-modal or .js-close-modal');\n}\n\nfunction openModal() {\n  backdrop.classList.add('is-open');\n  backdrop.setAttribute('aria-hidden', 'false');\n  document.body.style.overflow = 'hidden'; \n  window.addEventListener('keydown', onEscClose);\n}\n\nfunction closeModal() {\n  backdrop.classList.remove('is-open');\n  backdrop.setAttribute('aria-hidden', 'true');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onEscClose);\n}\n\nfunction onEscClose(e) {\n  if (e.key === 'Escape') closeModal();\n}\n\nopenButtons.forEach(btn => {\n  btn.addEventListener('click', e => {\n    e.preventDefault(); \n    openModal();\n  });\n});\n\ncloseBtn.addEventListener('click', closeModal);\n\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) closeModal();\n});\nconst exerciseModal = document.querySelector('.js-modal'); \nconst ratingModal = document.querySelector('.js-rating-modal');\n\nconst btnOpenRating = document.querySelector('.modal-btn--dark'); \nconst btnCloseRating = document.querySelector('.js-close-rating');\n\nconst ratingStars = document.querySelectorAll('.js-rate-star');\nconst ratingValueEl = document.querySelector('.js-rating-value');\nconst ratingForm = document.querySelector('.js-rating-form');\n\nlet currentRating = 0;\n\n// helpers\nfunction openRatingModal() {\n  ratingModal.classList.add('is-open');\n  ratingModal.setAttribute('aria-hidden', 'false');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeRatingModal() {\n  ratingModal.classList.remove('is-open');\n  ratingModal.setAttribute('aria-hidden', 'true');\n  document.body.style.overflow = '';\n}\n\nfunction closeExerciseModal() {\n  exerciseModal.classList.remove('is-open');\n  exerciseModal.setAttribute('aria-hidden', 'true');\n}\n\nfunction paintStars(value) {\n  ratingStars.forEach(star => {\n    const v = Number(star.dataset.value);\n    star.classList.toggle('is-active', v <= value);\n  });\n  ratingValueEl.textContent = `${value.toFixed(1)}`;\n}\n\nif (btnOpenRating) {\n  btnOpenRating.addEventListener('click', () => {\n    closeExerciseModal();\n    openRatingModal();\n  });\n}\n\nbtnCloseRating.addEventListener('click', closeRatingModal);\n\nratingModal.addEventListener('click', e => {\n  if (e.target === ratingModal) closeRatingModal();\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && ratingModal.classList.contains('is-open')) {\n    closeRatingModal();\n  }\n});\n\nratingStars.forEach(star => {\n  star.addEventListener('click', () => {\n    currentRating = Number(star.dataset.value);\n    paintStars(currentRating);\n  });\n});\n\nratingForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n\n  closeRatingModal();\n\n  exerciseModal.classList.add('is-open');\n  exerciseModal.setAttribute('aria-hidden', 'false');\n});\nfunction initFavoritesEmptyState() {\n    const favoritesSection = document.querySelector(\".favorites\");\n    if (!favoritesSection) return; \n\n    const emptyEl = favoritesSection.querySelector(\"[data-favorites-empty]\");\n    const contentEl = favoritesSection.querySelector(\"[data-favorites-content]\");\n    const listEl = favoritesSection.querySelector(\".bp-list\");\n    const pagerEl = favoritesSection.querySelector(\".pager\");\n\n    const cardsCount = listEl ? listEl.querySelectorAll(\".bp-card\").length : 0;\n\n    const hasFavorites = cardsCount > 0;\n}"],"names":["backdrop","closeBtn","openButtons","openModal","onEscClose","closeModal","btn","e","exerciseModal","ratingModal","btnOpenRating","btnCloseRating","ratingStars","ratingValueEl","ratingForm","currentRating","openRatingModal","closeRatingModal","closeExerciseModal","paintStars","value","star","v"],"mappings":"sEAAA,MAAMA,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAW,SAAS,cAAc,iBAAiB,EAEnDC,EAAc,SAAS,iBAAiB,WAAW,GAIrD,CAACF,GAAY,CAACC,IAChB,QAAQ,MAAM,wDAAwD,EAGxE,SAASE,GAAY,CACnBH,EAAS,UAAU,IAAI,SAAS,EAChCA,EAAS,aAAa,cAAe,OAAO,EAC5C,SAAS,KAAK,MAAM,SAAW,SAC/B,OAAO,iBAAiB,UAAWI,CAAU,CAC/C,CAEA,SAASC,GAAa,CACpBL,EAAS,UAAU,OAAO,SAAS,EACnCA,EAAS,aAAa,cAAe,MAAM,EAC3C,SAAS,KAAK,MAAM,SAAW,GAC/B,OAAO,oBAAoB,UAAWI,CAAU,CAClD,CAEA,SAASA,EAAW,EAAG,CACjB,EAAE,MAAQ,UAAUC,EAAU,CACpC,CAEAH,EAAY,QAAQI,GAAO,CACzBA,EAAI,iBAAiB,QAASC,GAAK,CACjCA,EAAE,eAAc,EAChBJ,GACJ,CAAG,CACH,CAAC,EAEDF,EAAS,iBAAiB,QAASI,CAAU,EAE7CL,EAAS,iBAAiB,QAAS,GAAK,CAClC,EAAE,SAAWA,GAAUK,EAAU,CACvC,CAAC,EACD,MAAMG,EAAgB,SAAS,cAAc,WAAW,EAClDC,EAAc,SAAS,cAAc,kBAAkB,EAEvDC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAiB,SAAS,cAAc,kBAAkB,EAE1DC,EAAc,SAAS,iBAAiB,eAAe,EACvDC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAa,SAAS,cAAc,iBAAiB,EAE3D,IAAIC,EAAgB,EAGpB,SAASC,GAAkB,CACzBP,EAAY,UAAU,IAAI,SAAS,EACnCA,EAAY,aAAa,cAAe,OAAO,EAC/C,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,SAASQ,GAAmB,CAC1BR,EAAY,UAAU,OAAO,SAAS,EACtCA,EAAY,aAAa,cAAe,MAAM,EAC9C,SAAS,KAAK,MAAM,SAAW,EACjC,CAEA,SAASS,GAAqB,CAC5BV,EAAc,UAAU,OAAO,SAAS,EACxCA,EAAc,aAAa,cAAe,MAAM,CAClD,CAEA,SAASW,EAAWC,EAAO,CACzBR,EAAY,QAAQS,GAAQ,CAC1B,MAAMC,EAAI,OAAOD,EAAK,QAAQ,KAAK,EACnCA,EAAK,UAAU,OAAO,YAAaC,GAAKF,CAAK,CACjD,CAAG,EACDP,EAAc,YAAc,GAAGO,EAAM,QAAQ,CAAC,CAAC,EACjD,CAEIV,GACFA,EAAc,iBAAiB,QAAS,IAAM,CAC5CQ,IACAF,GACJ,CAAG,EAGHL,EAAe,iBAAiB,QAASM,CAAgB,EAEzDR,EAAY,iBAAiB,QAAS,GAAK,CACrC,EAAE,SAAWA,GAAaQ,EAAgB,CAChD,CAAC,EAED,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAYR,EAAY,UAAU,SAAS,SAAS,GAChEQ,GAEJ,CAAC,EAEDL,EAAY,QAAQS,GAAQ,CAC1BA,EAAK,iBAAiB,QAAS,IAAM,CACnCN,EAAgB,OAAOM,EAAK,QAAQ,KAAK,EACzCF,EAAWJ,CAAa,CAC5B,CAAG,CACH,CAAC,EAEDD,EAAW,iBAAiB,SAAU,GAAK,CACzC,EAAE,eAAc,EAGhBG,IAEAT,EAAc,UAAU,IAAI,SAAS,EACrCA,EAAc,aAAa,cAAe,OAAO,CACnD,CAAC"}